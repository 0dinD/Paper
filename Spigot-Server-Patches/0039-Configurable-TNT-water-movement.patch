From 1220cadf01b0eb0a6d11fe8b3a39c129e319c712 Mon Sep 17 00:00:00 2001
From: Byteflux <byte@byteflux.net>
Date: Sat, 29 Nov 2014 23:05:52 -0800
Subject: [PATCH] Configurable TNT water movement


diff --git a/src/main/java/net/minecraft/server/EntityTNTPrimed.java b/src/main/java/net/minecraft/server/EntityTNTPrimed.java
index 7b856ef..b5763bb 100644
--- a/src/main/java/net/minecraft/server/EntityTNTPrimed.java
+++ b/src/main/java/net/minecraft/server/EntityTNTPrimed.java
@@ -109,4 +109,12 @@ public class EntityTNTPrimed extends Entity {
     public float getHeadHeight() {
         return 0.0F;
     }
+
+    /**
+     * PaperSpigot - Configurable TNT water movement
+     */
+    @Override
+    public boolean aK() {
+        return world.paperSpigotConfig.tntMovesInWater;
+    }
 }
diff --git a/src/main/java/org/github/paperspigot/PaperSpigotWorldConfig.java b/src/main/java/org/github/paperspigot/PaperSpigotWorldConfig.java
index f7a256d..2aab21b 100644
--- a/src/main/java/org/github/paperspigot/PaperSpigotWorldConfig.java
+++ b/src/main/java/org/github/paperspigot/PaperSpigotWorldConfig.java
@@ -188,4 +188,10 @@ public class PaperSpigotWorldConfig
         boatsDropBoats = getBoolean( "game-mechanics.boats-drop-boats", false );
         lessPickyTorches = getBoolean( "game-mechanics.less-picky-torch-placement", false );
     }
+
+    public boolean tntMovesInWater;
+    private void tntMovesInWater()
+    {
+        tntMovesInWater = getBoolean("tnt-moves-in-water", true );
+    }
 }
-- 
1.9.4.msysgit.2

