From 3edf8c2c283ba8570cf38d5e7ce78196df4e4ee5 Mon Sep 17 00:00:00 2001
From: Zach Brown <Zbob750@live.com>
Date: Sun, 18 Jan 2015 12:42:51 -0600
Subject: [PATCH] Fix certain mobs crashing the server from MobSpawners


diff --git a/src/main/java/net/minecraft/server/MobSpawnerAbstract.java b/src/main/java/net/minecraft/server/MobSpawnerAbstract.java
index cc4d38c..1853483 100644
--- a/src/main/java/net/minecraft/server/MobSpawnerAbstract.java
+++ b/src/main/java/net/minecraft/server/MobSpawnerAbstract.java
@@ -190,7 +190,7 @@ public abstract class MobSpawnerAbstract {
 
                 entity1 = entity2;
             }
-        } else if (entity instanceof EntityLiving && entity.world != null && flag) {
+        } else if (entity instanceof EntityInsentient && entity.world != null && flag) { // PaperSpigot - EntityLiving -> EntityInsentient
             ((EntityInsentient) entity).prepare(entity.world.E(new BlockPosition(entity)), (GroupDataEntity) null);
             // Spigot start - call SpawnerSpawnEvent, abort if cancelled
             SpawnerSpawnEvent event = CraftEventFactory.callSpawnerSpawnEvent(entity, this.b().getX(), this.b().getY(), this.b().getZ());
-- 
1.9.1

