From b7ae0052d97f71cd39b386d8039a74a14c272306 Mon Sep 17 00:00:00 2001
From: Byteflux <byte@byteflux.net>
Date: Sat, 29 Nov 2014 23:05:52 -0800
Subject: [PATCH] Configurable TNT water movement


diff --git a/src/main/java/net/minecraft/server/EntityTNTPrimed.java b/src/main/java/net/minecraft/server/EntityTNTPrimed.java
index 7b856ef..b5763bb 100644
--- a/src/main/java/net/minecraft/server/EntityTNTPrimed.java
+++ b/src/main/java/net/minecraft/server/EntityTNTPrimed.java
@@ -109,4 +109,12 @@ public class EntityTNTPrimed extends Entity {
     public float getHeadHeight() {
         return 0.0F;
     }
+
+    /**
+     * PaperSpigot - Configurable TNT water movement
+     */
+    @Override
+    public boolean aK() {
+        return world.paperSpigotConfig.tntMovesInWater;
+    }
 }
diff --git a/src/main/java/org/github/paperspigot/PaperSpigotWorldConfig.java b/src/main/java/org/github/paperspigot/PaperSpigotWorldConfig.java
index 7f02e29..74d1017 100644
--- a/src/main/java/org/github/paperspigot/PaperSpigotWorldConfig.java
+++ b/src/main/java/org/github/paperspigot/PaperSpigotWorldConfig.java
@@ -186,4 +186,10 @@ public class PaperSpigotWorldConfig
     {
         boatsDropBoats = getBoolean( "game-mechanics.boats-drop-boats", false );
     }
+
+    public boolean tntMovesInWater;
+    private void tntMovesInWater()
+    {
+        tntMovesInWater = getBoolean("tnt-moves-in-water", true );
+    }
 }
-- 
1.9.5.msysgit.0

