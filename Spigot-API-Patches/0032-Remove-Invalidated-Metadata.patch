From 67435787acb9ca2a08e976e4c00b2c4cb612d8b0 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Tue, 16 Jul 2013 21:26:50 -0400
Subject: [PATCH] Remove Invalidated Metadata

On reload, metadata will be cleared

diff --git a/src/main/java/org/bukkit/metadata/MetadataStoreBase.java b/src/main/java/org/bukkit/metadata/MetadataStoreBase.java
index 64c0f0a..8602669 100644
--- a/src/main/java/org/bukkit/metadata/MetadataStoreBase.java
+++ b/src/main/java/org/bukkit/metadata/MetadataStoreBase.java
@@ -119,7 +119,7 @@ public abstract class MetadataStoreBase<T> {
         Validate.notNull(owningPlugin, "Plugin cannot be null");
         for (Map<Plugin, MetadataValue> values : metadataMap.values()) {
             if (values.containsKey(owningPlugin)) {
-                values.get(owningPlugin).invalidate();
+                values.remove(owningPlugin); // Paper - Remove bad metadata, invalidate() is not implemented
             }
         }
     }
-- 
2.7.4

